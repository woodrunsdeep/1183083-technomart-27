var feedbackLink=document.querySelector(".contact__button"),feedbackForm=document.querySelector(".feedback-form"),cart=document.querySelector(".user-navigation__button--cart"),itemsCounter=document.getElementById("itemsCounter"),bookmarksButtons=Array.prototype.slice.call(document.querySelectorAll(".button--bookmark")),mapLink=document.querySelector(".map__link"),modalMap=document.querySelector(".modal-map"),modals=Array.prototype.slice.call(document.querySelectorAll(".modal")),buttons=Array.prototype.slice.call(document.querySelectorAll(".button--to-cart")),added=document.querySelector(".added-to-cart"),modalCheckoutButton=added.querySelector(".modal-checkout"),proceedShopping=added.querySelector(".close-modal-button");if(null!==feedbackForm){var username=feedbackForm.querySelector("[name=username]"),email=feedbackForm.querySelector("[name=email]"),message=feedbackForm.querySelector("[name=message]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("username")}catch(e){isStorageSupport=!1}}null!==feedbackLink&&feedbackLink.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.add("modal-show"),storage?username.value=storage:username.focus()}),null!==feedbackForm&&feedbackForm.addEventListener("submit",function(e){username.value&&email.value&&message.value?isStorageSupport&&localStorage.setItem("username",username.value):(e.preventDefault(),feedbackForm.classList.remove("modal-error"),feedbackForm.offsetWidth=feedbackForm.offsetWidth,feedbackForm.classList.add("modal-error"))}),null!==mapLink&&mapLink.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),modals.forEach(function(t){t.querySelector(".close-button").addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-show"),t.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal-show")&&(t.classList.remove("modal-show"),t.classList.remove("modal-error")))})}),buttons.forEach(function(e){e.addEventListener("click",function(){added.classList.add("modal-show"),itemsCounter.innerHTML++,cart.classList.add("user-navigation__button--cart-non-empty"),modalCheckoutButton.focus(),proceedShopping.addEventListener("click",function(e){e.preventDefault(),added.classList.remove("modal-show")})})}),bookmarksButtons.forEach(function(e){e.addEventListener("click",function(){document.getElementById("bookmarksQuantity").innerHTML++})});